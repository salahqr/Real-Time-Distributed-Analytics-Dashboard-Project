spring.application.name=Kafka-Project
server.port=8080

# ===== Kafka =====
# Use environment variables with fallback to localhost
spring.kafka.bootstrap-servers=${SPRING_KAFKA_BOOTSTRAP_SERVERS:kafka-1:9092,kafka-2:9093,kafka-3:9094}
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
spring.kafka.consumer.group-id=${SPRING_KAFKA_CONSUMER_GROUP_ID:kafka-project-group}
spring.kafka.consumer.auto-offset-reset=earliest

# ===== Redis =====
spring.data.redis.host=${SPRING_REDIS_HOST:redis}
spring.data.redis.port=${SPRING_REDIS_PORT:6379}
spring.data.redis.password=${SPRING_REDIS_PASSWORD:}
spring.data.redis.timeout=2000
spring.data.redis.ssl.enabled=false

# ===== ClickHouse =====
# Use Docker service name instead of host.docker.internal for Linux
spring.datasource.url=${CLICKHOUSE_URL:jdbc:clickhouse://clickhouse:8123/default?use_binary_format=false}
spring.datasource.username=${CLICKHOUSE_USER:default}
spring.datasource.password=${CLICKHOUSE_PASSWORD:root}
spring.datasource.driver-class-name=com.clickhouse.jdbc.ClickHouseDriver

# ===== Actuator for health checks =====
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
